{"ast":null,"code":"var _jsxFileName = \"/home/shubhangi/Documents/mentor-and-mentee-tracking-/src/Components/Log_in.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\"; // import { Link } from \"react-router-dom\";\n\nvar validEmailRe = RegExp(/^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:s@\\\"]{2,})$/i);\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.validateUsername = userName => {\n      return userName && userName.length >= 5;\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const getData = axios.get(\"http://localhost:8000/login\", {\n        params: {\n          email: this.state.email,\n          password: this.state.password\n        }\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => {\n        console.log(res);\n        localStorage.setItem(\"token\", res.data);\n        const token = localStorage.getItem(\"token\"); // console.log(localStorage.getItem(\"token\"));\n\n        const n = axios.get(\"http://localhost:8000/verify\", {\n          params: {\n            token: token\n          }\n        }).then(respo => {\n          if (respo.data === true) {\n            window.location.href = \"/home\";\n          } else {\n            window.location.href = \"/\";\n          }\n        });\n        this.setState({\n          loading: false\n        });\n        console.log(n);\n      }).catch(err => {\n        console.log(err);\n        this.setState({\n          loading: false\n        });\n      });\n      console.log(getData);\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      loading: true,\n      errors: {\n        email: \"\",\n        password: \"\"\n      }\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    let errors = this.state.errors;\n    const newErros = { ...errors\n    };\n\n    switch (name) {\n      case \"Username\":\n        newErros.Username = this.validateUsername(value) ? \"\" : \"Full Name must be 5 characters long!\";\n        break;\n\n      case \"email\":\n        newErros.email = validEmailRe.test(value) ? \"\" : \"Email is not valid!\";\n        break;\n\n      case \"password\":\n        newErros.password = value.length < 8 ? \"Password must be 8 characters long!\" : \"\";\n        break;\n\n      default:\n        break;\n    }\n\n    this.setState({\n      errors: newErros,\n      [name]: value\n    });\n  }\n\n  render() {\n    const {\n      email,\n      password\n    } = this.state;\n    const isEnabled = validEmailRe.test(email) && password.length > 8;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-wrapper\",\n      style: {\n        marginTop: \"10%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      onChange: this.onChange,\n      value: this.state.email,\n      name: \"email\",\n      className: \"form-control\",\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, this.state.errors.email), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      onChange: this.onChange,\n      value: this.state.password,\n      name: \"password\",\n      className: \"form-control\",\n      placeholder: \"Enter password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, this.state.errors.password), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      disabled: !isEnabled,\n      style: {\n        height: \"40px\",\n        width: \"90px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, \"Login\")))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/shubhangi/Documents/mentor-and-mentee-tracking-/src/Components/Log_in.js"],"names":["React","Component","axios","validEmailRe","RegExp","Login","constructor","validateUsername","userName","length","onSubmit","e","preventDefault","getData","get","params","email","state","password","headers","then","res","console","log","localStorage","setItem","data","token","getItem","n","respo","window","location","href","setState","loading","catch","err","errors","onChange","bind","name","value","target","newErros","Username","test","render","isEnabled","marginTop","color","height","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n// import { Link } from \"react-router-dom\";\n\nvar validEmailRe = RegExp(\n  /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:s@\\\"]{2,})$/i\n);\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      loading: true,\n      errors: {\n        email: \"\",\n        password: \"\"\n      }\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n  validateUsername = userName => {\n    return userName && userName.length >= 5;\n  };\n  onSubmit = e => {\n    e.preventDefault();\n    const getData = axios\n      .get(\n        \"http://localhost:8000/login\",\n        {\n          params: {\n            email: this.state.email,\n            password: this.state.password\n          }\n        },\n        { headers: { \"Content-Type\": \"application/json\" } }\n      )\n      .then(res => {\n        console.log(res);\n        localStorage.setItem(\"token\", res.data);\n        const token = localStorage.getItem(\"token\");\n        // console.log(localStorage.getItem(\"token\"));\n\n        const n = axios\n          .get(\"http://localhost:8000/verify\", { params: { token: token } })\n          .then(respo => {\n            if (respo.data === true) {\n              window.location.href = \"/home\";\n            } else {\n              window.location.href = \"/\";\n            }\n          });\n\n        this.setState({\n          loading: false\n        });\n        console.log(n);\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({\n          loading: false\n        });\n      });\n    console.log(getData);\n  };\n  onChange(e) {\n    const { name, value } = e.target;\n    let errors = this.state.errors;\n    const newErros = { ...errors };\n    switch (name) {\n      case \"Username\":\n        newErros.Username = this.validateUsername(value)\n          ? \"\"\n          : \"Full Name must be 5 characters long!\";\n        break;\n      case \"email\":\n        newErros.email = validEmailRe.test(value) ? \"\" : \"Email is not valid!\";\n        break;\n      case \"password\":\n        newErros.password =\n          value.length < 8 ? \"Password must be 8 characters long!\" : \"\";\n        break;\n      default:\n        break;\n    }\n    this.setState({\n      errors: newErros,\n      [name]: value\n    });\n  }\n\n  render() {\n    const { email, password } = this.state;\n    const isEnabled = validEmailRe.test(email) && password.length > 8;\n\n    return (\n      <div>\n        <form noValidate onSubmit={this.onSubmit}>\n          <div className=\"auth-wrapper\" style={{ marginTop: \"10%\" }}>\n            <div className=\"auth-inner\">\n              <div className=\"form-group\">\n                <label>Email address</label>\n                <input\n                  type=\"email\"\n                  onChange={this.onChange}\n                  value={this.state.email}\n                  name=\"email\"\n                  className=\"form-control\"\n                  placeholder=\"Enter email\"\n                />\n              </div>\n              <div style={{ color: \"red\" }}>{this.state.errors.email}</div>\n              <div className=\"form-group\">\n                <label>Password</label>\n                <input\n                  type=\"password\"\n                  onChange={this.onChange}\n                  value={this.state.password}\n                  name=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Enter password\"\n                />\n              </div>\n              <div style={{ color: \"red\" }}>{this.state.errors.password}</div>\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary btn-block\"\n                disabled={!isEnabled}\n                style={{ height: \"40px\", width: \"90px\" }}\n              >\n                Login\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}